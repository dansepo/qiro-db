# **외부 고지서 통합 정산 및 부과 가이드**

### **1. 문서 개요**

본 문서는 건물 관리 시스템에서 한전(전기), 수도사업소, 도시가스 등 **모든 종류의 외부 기관에서 발행된 통합 고지서**를 기반으로, 건물 내 **공용 및 호실별 계량기**의 검침값을 통해 **각종 공과금을 정확하게 계산하고 부과**하는 전체 업무 절차와 시스템 설계 방안을 정의합니다.

### **2. 핵심 원칙: "계약의 마스터화 및 단계적 정산"**

복잡한 공과금 정산을 정확하게 처리하기 위해, 시스템은 다음과 같은 원칙을 따릅니다.

1. **계약의 마스터화:** 모든 외부 고지서 계약 정보(전기, 수도, 가스 등)를 **`utility_contracts`** 테이블에서 중앙 관리합니다.
2. **단계적 처리:** `①고지서 계약 선택 및 금액 입력` → `②검침값 입력` → `③공용 사용량 자동 계산` → `④항목별 부과`의 명확한 4단계 절차를 따릅니다.

### **3. 데이터 모델 설계**

이 기능을 지원하기 위해 다음과 같은 데이터 테이블이 필요합니다.

- **`bms.utility_contracts` (신규):** 한전, 수도사업소 등 외부 기관과의 모든 계약 정보를 사전에 마스터 데이터로 등록하고 관리합니다.
- **`bms.utility_bills`:** `utility_contracts`에서 특정 계약을 선택한 후, 해당 월의 고지서 상세 내역(기본요금, 사용요금, 총 사용량 등)을 저장합니다.
- **`bms.meters`:** 건물 내 모든 계량기(전기, 수도 등)의 마스터 정보를 관리합니다.
- **`bms.monthly_meter_readings`:** 각 계량기의 월별 검침값을 저장합니다.

### **4. 업무 흐름 및 화면 구성 요소**

#### **1단계 (선행 작업): 외부 고지서 계약 정보 등록**

> **목적:** 반복적으로 사용될 모든 외부 고지서 계약 정보를 사전에 '템플릿'처럼 등록합니다.

- **관련 화면:** `[기초 설정] > [외부 고지서 계약 관리]`
- **화면 구성 요소:**
  1. `[+ 새 계약 등록]` 버튼
  2. **계약명:** 관리자가 식별하기 위한 이름 (예: "본관 일반용 전력")
  3. **고지서 종류:** `[드롭다운: 전기료, 수도료, 가스료]`
  4. **공급사명:** (예: "한국전력공사")
  5. **고객(계약)번호:** 고지서에 명시된 번호

#### **2단계: 월별 고지서 정보 입력**

> **목적:** 해당 월에 도착한 실제 고지서의 금액과 사용량을 시스템에 기록합니다.

- **관련 화면:** `[월별 데이터 입력] > [외부 고지서 입력]`
- **화면 구성 요소:**
  1. **고지서 계약 선택:** `[드롭다운: 본관 일반용 전력, 상가용 수도 등]` (1단계에서 등록한 계약 목록)
  2. **검침 기간 입력:** `[날짜 선택] 시작일`, `[날짜 선택] 종료일`
  3. **금액 입력 필드:** `총 청구금액`, `기본요금`, `사용요금` 등
  4. **사용량 입력 필드:** `총 사용량 (kWh)`
  5. **`[저장]` 버튼**

#### **3단계: 계량기 검침값 입력**

> **목적:** 건물 내 모든 호실별 계량기의 관리비 부과 기간에 해당하는 검침값을 입력합니다.

- **관련 화면:** `[월별 데이터 입력] > [세대별 검침 입력]`
- **화면 구성 요소:**
  1. **검침 종류 선택:** `[탭 또는 드롭다운: 전기]`
  2. **호실별 계량기 탭:** 각 호실별 `금월 지침` 입력 필드 제공
  3. **`[저장]` 버튼**

#### **4단계: 공용 사용량 자동 계산**

> **목적:** 입력된 데이터를 바탕으로, 각 세대에 배분해야 할 '공용 사용량'을 정확히 산출합니다. 이 단계는 시스템 내부에서 자동으로 처리됩니다.

- **계산 로직:**
  - **`총 호실 사용량`** = `(모든 호실별 계량기의 월별 사용량 합계)`
  - **`배분 대상 공용 사용량`** = `(한전 고지서 총 사용량)` - `(총 호실 사용량)`

### **5. 핵심 처리 방안: 검침 기간 불일치 문제 해결 (평균 단가 적용)**

> **문제점:** 한전 고지서의 검침 기간(예: 6/15~7/14)과 건물의 관리비 부과 기간(예: 7/1~7/31)은 일치하지 않습니다.
>
> **해결책:** 한전 고지서의 요금을 기준으로 **'평균 단가'**를 산출하고, 이 단가를 **건물 내부에서 측정한 사용량**에 적용하여 비용을 배분합니다. 이는 실제 비용을 공정하게 안분하기 위한 가장 표준적인 방법입니다.

#### **가. 평균 단가 자동 계산**

시스템은 '월별 관리비 자동 계산' 시, 가장 먼저 다음 공식을 통해 해당 월에 적용할 전기료의 **평균 단가(원/kWh)**를 산출합니다.

- **`평균 단가` = `(한전 고지서의 사용요금 총액)` / `(한전 고지서의 총 사용량)`**
  - *예시: 6,000,000원 / 10,000kWh = **600원/kWh***

#### **나. 관리비 항목별 부과 설정 및 계산**

관리자는 아래와 같이 **세 가지의 논리적인 청구 항목**을 미리 설정해 두어야 합니다.

1. **항목: `세대 전기료` (개별 사용분)**
   - **계산 방식:** `RATE_PER_USAGE` (사용량당 단가 배분)
   - **단가 설정:** 이 항목의 단가는 매월 변동되므로, **'월별 데이터 입력' 화면에서 관리자가 직접 입력**하거나, 시스템이 위에서 계산한 **'평균 단가'를 자동으로 불러와** 적용합니다.
   - **계산:** `(해당 호실의 7월분 사용량) × (이번 달 평균 단가)`
     - *예시: 101호 200kWh × 600원/kWh = 120,000원*
2. **항목: `공용 전기료 (기본요금)`**
   - **계산 방식:** `TOTAL_PER_AREA` (총액 면적 비례 배분)
   - **총액 설정:** '월별 데이터 입력' 화면에서 **한전 고지서의 `기본요금`**을 이 항목의 월별 총액으로 입력합니다.
   - **계산:** 시스템이 입력된 기본요금 총액을 각 호실의 면적 비율로 자동 배분합니다.
3. **항목: `공용 전기료 (사용요금)`**
   - **계산 방식:** `TOTAL_PER_AREA` (총액 면적 비례 배분) 또는 `INDIVIDUAL_USAGE_PROPORTIONAL` (세대 사용량 비례 총액 배분) 중 선택
   - **총액 설정:** `(배분 대상 공용 사용량) × (평균 단가)` 로 계산된 **'공용부 사용요금 총액'**을 이 항목의 월별 총액으로 입력합니다.
     - *예시: 3,000kWh × 600원/kWh = 1,800,000원*
   - **계산:** 시스템이 입력된 공용부 사용요금 총액을 설정된 방식(면적 비례 또는 세대 사용량 비례)에 따라 자동 배분합니다.

이러한 체계적인 분리 및 정산 방식을 통해, 검침 기간이 일치하지 않는 복잡한 전기료 고지서를 투명하고 정확하게 각 세대에 부과할 수 있습니다.





# **공과금 정산 기능 설계 (테이블 및 데이터 흐름)**

### **1. 문서 개요**

본 문서는 `전기료 정산 및 부과 상세 가이드`에 명시된 업무 절차를 시스템으로 구현하기 위한 **데이터베이스 테이블 구조**와, 데이터가 각 단계별로 어떻게 생성되고 처리되는지에 대한 **상세한 데이터 흐름(Data Flow)**을 정의합니다.

### **2. 핵심 데이터 모델 (DDL for PostgreSQL)**

전기료, 수도료, 가스료 등 모든 공과금 정산 기능을 지원하기 위해 다음과 같이 5개의 핵심 테이블을 설계합니다.

```
-- =====================================================================
-- 외부 고지서 통합 정산 관련 테이블 DDL (감사 추적 포함)
-- 데이터베이스 종류: PostgreSQL, 스키마: bms
-- =====================================================================

-- 1. 월별 외부 고지서 계약 마스터 테이블
CREATE TABLE bms.utility_contracts (
    contract_id serial NOT NULL PRIMARY KEY,
    building_id int8 NOT NULL,
    utility_type varchar(50) NOT NULL, -- 'ELECTRICITY', 'WATER', 'GAS' 등
    contract_name varchar(255) NOT NULL,
    supplier_name varchar(100) NULL,
    contract_number varchar(100) NULL,
    billing_period_type varchar(50) NULL, -- 청구 주기 (매월, 격월 등)
    is_active boolean DEFAULT true NOT NULL,
    created_at timestamptz DEFAULT now() NOT NULL,
    updated_at timestamptz DEFAULT now() NOT NULL,
    created_by varchar(100),
    updated_by varchar(100),
    CONSTRAINT fk_building FOREIGN KEY (building_id) REFERENCES bms.buildings(building_id) ON DELETE CASCADE
);
COMMENT ON TABLE bms.utility_contracts IS '한전, 수도사업소 등 외부 기관과의 계약 정보 마스터';
COMMENT ON COLUMN bms.utility_contracts.utility_type IS '고지서 종류 (ELECTRICITY, WATER, GAS 등)';
COMMENT ON COLUMN bms.utility_contracts.contract_name IS '관리자가 식별하기 위한 계약명 (예: "본관 일반용 전력")';
COMMENT ON COLUMN bms.utility_contracts.supplier_name IS '공급사명 (예: "한국전력공사")';
COMMENT ON COLUMN bms.utility_contracts.contract_number IS '고객번호 또는 계약번호';
COMMENT ON COLUMN bms.utility_contracts.billing_period_type IS '청구 주기 (매월, 격월 등)';


-- 2. 월별 외부 고지서 내역 테이블 (통합 버전)
CREATE TABLE bms.utility_bills (
    utility_bill_id serial NOT NULL PRIMARY KEY,
    billing_month_id int8 NOT NULL,
    utility_contract_id serial NOT NULL,
    bill_start_date date NOT NULL,
    bill_end_date date NOT NULL,
    due_date date NULL,
    total_amount numeric(15, 2) DEFAULT 0 NOT NULL,
    basic_fee numeric(15, 2) DEFAULT 0 NOT NULL,
    usage_fee numeric(15, 2) DEFAULT 0 NOT NULL,
    surcharges numeric(15, 2) DEFAULT 0 NOT NULL,
    late_fee numeric(15, 2) DEFAULT 0 NOT NULL,
    rounding_off_amount numeric(15, 2) DEFAULT 0 NOT NULL,
    tax numeric(15, 2) DEFAULT 0 NOT NULL,
    total_usage numeric(15, 2) NULL,
    created_at timestamptz DEFAULT now() NOT NULL,
    updated_at timestamptz DEFAULT now() NOT NULL,
    created_by varchar(100),
    updated_by varchar(100),
    CONSTRAINT fk_billing_cycle FOREIGN KEY (billing_month_id) REFERENCES bms.billing_months(billing_month_id),
    CONSTRAINT fk_utility_contract FOREIGN KEY (utility_contract_id) REFERENCES bms.utility_contracts(contract_id)
);
COMMENT ON TABLE bms.utility_bills IS '한전, 수도사업소 등 외부 기관에서 발행된 월별 고지서 내역';
COMMENT ON COLUMN bms.utility_bills.utility_bill_id IS '월별 고지서 내역의 고유 식별자 (PK)';
COMMENT ON COLUMN bms.utility_bills.billing_month_id IS '이 고지서가 속한 청구월의 ID';
COMMENT ON COLUMN bms.utility_bills.utility_contract_id IS '어떤 계약에 대한 고지서인지 연결하는 ID';
COMMENT ON COLUMN bms.utility_bills.bill_start_date IS '고지서상의 사용기간 시작일';
COMMENT ON COLUMN bms.utility_bills.bill_end_date IS '고지서상의 사용기간 종료일';
COMMENT ON COLUMN bms.utility_bills.due_date IS '고지서의 납부기한';
COMMENT ON COLUMN bms.utility_bills.total_amount IS '총 청구금액';
COMMENT ON COLUMN bms.utility_bills.basic_fee IS '기본요금';
COMMENT ON COLUMN bms.utility_bills.usage_fee IS '사용요금 (전력량요금, 상하수도요금 등)';
COMMENT ON COLUMN bms.utility_bills.surcharges IS '부담금 합계 (예: 전력산업기반기금, 물이용부담금)';
COMMENT ON COLUMN bms.utility_bills.late_fee IS '가산금 (연체료)';
COMMENT ON COLUMN bms.utility_bills.rounding_off_amount IS '원단위절사 금액';
COMMENT ON COLUMN bms.utility_bills.tax IS '부가가치세';
COMMENT ON COLUMN bms.utility_bills.total_usage IS '총 사용량 (예: 10000 kWh)';


-- 3. 계량기 마스터 정보 테이블
CREATE TABLE bms.meters (
    meter_id serial NOT NULL PRIMARY KEY,
    building_id int8 NOT NULL,
    meter_type varchar(50) NOT NULL,
    meter_purpose varchar(50) NOT NULL,
    unit_id int8 NULL,
    meter_location varchar(255) NULL,
    is_active boolean DEFAULT true NOT NULL,
    created_at timestamptz DEFAULT now() NOT NULL,
    updated_at timestamptz DEFAULT now() NOT NULL,
    created_by varchar(100),
    updated_by varchar(100),
    CONSTRAINT fk_building FOREIGN KEY (building_id) REFERENCES bms.buildings(building_id) ON DELETE CASCADE,
    CONSTRAINT fk_unit FOREIGN KEY (unit_id) REFERENCES bms.units(unit_id)
);
COMMENT ON TABLE bms.meters IS '건물 내 모든 계량기의 마스터 정보';
COMMENT ON COLUMN bms.meters.meter_type IS '계량기 종류 (ELECTRICITY, WATER, GAS 등)';
COMMENT ON COLUMN bms.meters.meter_purpose IS '계량기 용도 (COMMON: 공용, UNIT: 호실)';


-- 4. 월별 계량기 검침값 테이블
CREATE TABLE bms.monthly_meter_readings (
    reading_id serial NOT NULL PRIMARY KEY,
    billing_month_id int8 NOT NULL,
    meter_id serial NOT NULL,
    reading_date date NOT NULL,
    previous_reading numeric(15, 2) DEFAULT 0 NOT NULL,
    current_reading numeric(15, 2) DEFAULT 0 NOT NULL,
    usage numeric(15, 2) GENERATED ALWAYS AS (current_reading - previous_reading) STORED,
    created_at timestamptz DEFAULT now() NOT NULL,
    updated_at timestamptz DEFAULT now() NOT NULL,
    created_by varchar(100),
    updated_by varchar(100),
    CONSTRAINT fk_billing_cycle FOREIGN KEY (billing_month_id) REFERENCES bms.billing_months(id),
    CONSTRAINT fk_meter FOREIGN KEY (meter_id) REFERENCES bms.meters(meter_id)
);
COMMENT ON TABLE bms.monthly_meter_readings IS '각 계량기의 월별 검침값 및 사용량';
COMMENT ON COLUMN bms.monthly_meter_readings.usage IS '사용량 (금월 지침 - 전월 지침)으로 자동 계산됨';


-- 5. 감사 추적(Audit Trail) 테이블
CREATE TABLE bms.audit_logs (
    log_id bigserial PRIMARY KEY,
    entity_type varchar(100) NOT NULL,
    entity_id varchar(255) NOT NULL,
    action_type varchar(20) NOT NULL,
    change_details jsonb NULL,
    actor_username varchar(255) NOT NULL,
    action_timestamp timestamptz DEFAULT now() NOT NULL
);
COMMENT ON TABLE bms.audit_logs IS '시스템의 모든 주요 데이터 변경 이력을 기록하는 테이블';
```

### **3. 데이터 흐름 (Data Flow)**

#### **1단계: 한전 고지서 데이터 입력**

1. **사용자 행동:** 관리자가 `[월별 데이터 입력] > [외부 고지서 입력]` 화면에서, 먼저 사전에 등록된 계약(예: '본관 일반용 전력')을 선택한 후, 해당 월의 고지서 금액과 사용량을 입력하고 저장합니다.
2. **시스템 처리:**
   - `INSERT INTO bms.utility_bills (...) VALUES (...)`
   - 7월분 청구월(`billing_month_id`)과 선택된 계약(`utility_contract_id`)에 연결된 새로운 레코드가 생성됩니다. 이 레코드에는 한전 고지서의 **총액, 기본요금, 사용요금, 총 사용량** 등의 정보가 모두 기록됩니다.
   - **(감사 추적)** `bms.audit_logs` 테이블에 '고지서 정보 생성/수정' 이력이 기록됩니다.

#### **2단계: 건물 내부 검침 데이터 입력**

1. **사용자 행동:** 관리자가 `[월별 데이터 입력] > [세대별 검침 입력]` 화면에서 7월 31일 자로 측정한 각 호실의 전기 계량기 `금월 지침` 값을 입력하고 저장합니다.
2. **시스템 처리:**
   - `INSERT INTO bms.monthly_meter_readings (...) VALUES (...)`
   - 7월분 청구월(`billing_month_id`)에 연결된, 각 호실 계량기(`meter_id`)의 검침 데이터가 여러 행으로 생성됩니다.
   - 각 행에는 `전월 지침`과 `금월 지침`이 기록되고, **`사용량(usage)` 컬럼은 데이터베이스 레벨에서 자동으로 계산**됩니다.
   - **(감사 추적)** `bms.audit_logs` 테이블에 '검침값 입력' 이력이 기록됩니다.

#### **3단계: 시스템 자동 계산 (월별 관리비 계산 실행 시)**

1. **사용자 행동:** 관리자가 모든 데이터 입력을 마친 후, `[월별 관리비 자동 계산]` 버튼을 클릭합니다.
2. **시스템 내부 처리 (계산 엔진 동작):**
   - **① 평균 단가 산출:**
     - `bms.utility_bills` 테이블에서 7월분 전기료 고지서 정보를 조회합니다.
     - **`평균 단가`** = `(사용요금 총액) / (총 사용량)` 공식을 통해 해당 월의 전기료 단가를 계산합니다. (예: 600원/kWh)
   - **② 총 호실 사용량 산출:**
     - `bms.monthly_meter_readings` 테이블에서 7월분 모든 호실의 `사용량(usage)`을 합산하여 **`총 호실 사용량`**을 구합니다. (예: 7,000 kWh)
   - **③ 공용 사용량 산출:**
     - **`배분 대상 공용 사용량`** = `(한전 고지서 총 사용량)` - `(총 호실 사용량)` 공식을 통해 공용부에서 사용된 전기량을 계산합니다. (예: 10,000 - 7,000 = 3,000 kWh)

#### **4단계: 관리비 항목별 부과 데이터 연결**

1. **시스템 내부 처리 (계속):** 계산 엔진은 3단계에서 산출된 값을 바탕으로, 사전에 설정된 3가지 논리적 청구 항목에 대한 최종 부과액을 계산합니다.
   - **`세대 전기료` 계산:**
     - `계산 방식`: `RATE_PER_USAGE`
     - `계산`: 각 호실의 월별 사용량(from `monthly_meter_readings`) × 평균 단가
   - **`공용 전기료 (기본요금)` 계산:**
     - `계산 방식`: `TOTAL_PER_AREA`
     - `계산`: 한전 고지서의 `기본요금`(from `utility_bills`)을 각 호실의 면적 비율로 배분
   - **`공용 전기료 (사용요금)` 계산:**
     - `계산 방식`: `TOTAL_PER_AREA` 또는 `INDIVIDUAL_USAGE_PROPORTIONAL`
     - `계산`: `(배분 대상 공용 사용량 × 평균 단가)`로 계산된 **'공용부 사용요금 총액'**을 설정된 방식에 따라 배분
2. **최종 결과 저장:** 계산된 모든 최종 금액은 **`bms.billing_details`** 테이블에 상세 내역으로 저장되어, 검토 및 고지서 발행 단계로 넘어갑니다.





# **외부 고지서 계약 관리 및 정보 입력 방안**

### **1. 문서 개요**

본 문서는 건물 관리 시스템에서 한전, 수도사업소 등 외부 기관과의 **각종 계약 정보를 사전에 마스터 데이터로 등록**하고, 매월 고지서 정보 입력 시 이를 **선택하여 사용하는** 체계적인 업무 절차와 시스템 설계 방안을 정의합니다.

### **2. 핵심 원칙: "계약 정보의 마스터화 및 선택적 입력"**

이 설계의 핵심은, 반복적으로 사용되는 **'계약 정보'**와 매월 변동되는 **'고지서 금액 정보'**를 명확하게 분리하는 것입니다.

> **개선된 업무 흐름:** `① 외부 고지서 계약 정보 먼저 등록` → `② 월별 입력 시, 등록된 계약을 선택하고 해당 월의 금액만 입력`

### **3. 데이터베이스 설계 변경 제안**

#### **가. `bms.utility_contracts` 테이블 신규 생성**

건물이 계약한 모든 외부 고지서의 마스터 정보를 관리하는 테이블을 새로 만듭니다.

| 컬럼명            | 데이터 타입 | 키   | 설명                                                         |
| ----------------- | ----------- | ---- | ------------------------------------------------------------ |
| `contract_id`     | `uuid`      | PK   | 외부 고지서 계약의 고유 식별자                               |
| `building_id`     | `uuid`      | FK   | 이 계약이 속한 건물의 ID                                     |
| `utility_type`    | `varchar`   |      | 고지서 종류 ('ELECTRICITY', 'WATER', 'GAS' 등)               |
| `contract_name`   | `varchar`   |      | 관리자가 식별하기 위한 계약명 (예: "본관 일반용 전력", "상가용 수도") |
| `supplier_name`   | `varchar`   |      | 공급사명 (예: "한국전력공사")                                |
| `contract_number` | `varchar`   |      | 고객번호 또는 계약번호                                       |
| `is_active`       | `boolean`   |      | 계약 사용 여부                                               |

#### **나. `bms.utility_bills` 테이블 수정**

기존 `utility_bills` 테이블에서 계약 정보 관련 컬럼을 제거하고, `utility_contracts` 테이블을 참조하는 단일 외래 키(Foreign Key) 컬럼으로 대체합니다.

- **제거할 컬럼:** `utility_type`, `contract_number`
- **추가할 컬럼:**
  - **`utility_contract_id` (uuid, NOT NULL, FK):** 이 고지서가 어떤 계약에 대한 것인지 연결하는 ID. `bms.utility_contracts.contract_id`를 참조합니다.

### **4. 등록 및 관리 절차 (개선된 흐름)**

#### **1단계 (선행 작업): 외부 고지서 계약 정보 등록**

- **관련 화면:** `[기초 설정] > [외부 고지서 계약 관리]` 메뉴
- **등록 절차:**
  1. 관리자가 `[+ 새 계약 등록]` 버튼을 클릭합니다.
  2. '새 계약 등록' 팝업에서 다음 정보를 입력합니다.
     - **계약명:** 본관 일반용 전력
     - **고지서 종류:** `[드롭다운: 전기료]`
     - **공급사명:** 한국전력공사
     - **고객(계약)번호:** 12345-6789
  3. 저장하면, 이 정보는 `bms.utility_contracts` 테이블에 새로운 레코드로 생성됩니다. 건물에 계약이 여러 개(예: 상가용 전력) 있다면, 모두 각각 등록합니다.

#### **2단계 (핵심 기능): 월별 고지서 정보 입력**

- **관련 화면:** `[월별 데이터 입력] > [외부 고지서 입력]`
- **입력 절차 (동적 UI):**
  1. 관리자가 **`[+ 고지서 입력]`** 버튼을 클릭합니다.
  2. **'고지서 계약 선택' 팝업(Modal) 창**이 나타납니다.
     - 이 팝업에는 **1단계에서 등록된 모든 활성 계약 목록**이 표시됩니다. (예: `본관 일반용 전력`, `상가용 수도`)
  3. 관리자가 이번 달에 입력할 고지서인 **'본관 일반용 전력'을 선택**합니다.
  4. 팝업이 닫히고, 화면에는 선택된 계약 정보('본관 일반용 전력')가 표시된 상태로, **해당 월의 금액과 사용량만 입력할 수 있는 필드**들이 나타납니다.
     - 검침 기간, 총 청구금액, 기본요금, 사용요금, 총 사용량 등
  5. 관리자가 금액과 사용량을 모두 입력하고 **[저장]** 버튼을 클릭하면, 이 정보는 `bms.utility_bills` 테이블에 새로운 레코드로 생성되며, `utility_contract_id`에는 선택된 '본관 일반용 전력' 계약의 ID가 저장됩니다.

### **5. 이 방식의 장점**

- **오류 감소:** 매번 계약번호나 공급사명을 수동으로 입력할 필요 없이, 목록에서 선택하므로 오타로 인한 오류를 원천적으로 방지합니다.
- **업무 효율성:** 관리자는 어떤 계약에 대한 고지서인지만 명확히 선택하고, 금액 입력에만 집중할 수 있어 업무가 단순하고 빨라집니다.
- **데이터의 명확성:** 건물에 여러 개의 전기료 계약이 있더라도, 각 계약별로 고지서 내역을 명확하게 구분하여 관리하고 추적할 수 있습니다.