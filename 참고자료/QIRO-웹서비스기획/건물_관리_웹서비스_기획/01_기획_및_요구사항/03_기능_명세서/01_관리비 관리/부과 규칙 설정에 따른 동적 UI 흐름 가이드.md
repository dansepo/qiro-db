# **부과 규칙 설정에 따른 동적 UI 흐름 가이드**

### **1. 문서 개요**

본 문서는 건물관리 시스템의 '청구 항목 설정' 화면에서, 사용자가 **'부과 대상'**과 **'계산 방식'**을 순차적으로 선택했을 때, 시스템이 사용자에게 제시해야 할 **다음 단계의 UI 요소**를 명확하게 정의합니다. 이 가이드는 동적 폼(Dynamic Form)의 구체적인 동작 로직을 설계하기 위한 기준입니다.

### **2. 설정 흐름**

**`Step 1: 부과 대상 선택` → `Step 2: 계산 방식 선택` → `Step 3: 상세 조건 입력`**

시스템은 Step 1과 Step 2의 선택 조합에 따라 Step 3에서 표시될 UI 요소를 동적으로 결정합니다.

### **3. '부과 대상' 및 '계산 방식' 조합별 다음 UI 요소**

아래 표는 모든 설정 조합에 따라 사용자에게 표시되어야 할 다음 UI 요소를 상세하게 정의합니다.

#### **부과 대상: 일반 그룹 (General Group)**

*(선택 대상: `전체 호실`, `계약중인 호실`, `공실`, `선택 호실`)*

| 사용자가 선택한 계산 방식                   | 다음에 표시되는 UI 요소(들)                                  | 설명                                                        |
| ------------------------------------------- | ------------------------------------------------------------ | ----------------------------------------------------------- |
| **`TOTAL_PER_AREA`** (총액 면적 비례 배분)  | **[드롭다운] 배분 기준 면적** • 옵션: `전용면적`, `공급면적`, `계약면적` | 그룹에 부과될 총액을 어떤 면적 기준으로 나눌지 선택합니다.  |
| **`TOTAL_PER_UNIT_EQUAL`** (총액 균등 배분) | **(추가 UI 없음)**                                           | 추가적인 조건 없이, 그룹 내 호실 수로 균등하게 배분됩니다.  |
| **`RATE_PER_AREA`** (면적당 단가 배분)      | **[숫자 입력] 면적당 단가(원)** **[드롭다운] 기준 면적** • 옵션: `전용면적`, `공급면적`, `계약면적` | 각 호실의 어떤 면적에, 얼마의 단가를 곱할지 설정합니다.     |
| **`FIXED_AMOUNT`** (고정액 부과)            | **[숫자 입력] 호실별 고정 부과액(원)**                       | 그룹 내 모든 호실에 동일하게 부과될 고정 금액을 설정합니다. |
| **`RATE_PER_VEHICLE`** (차량당 단가 배분)   | **[숫자 입력] 차량당 단가(원)**                              | 그룹 내 각 호실의 등록 차량 1대당 부과될 단가를 설정합니다. |
| **`RATE_PER_OCCUPANT`** (인원당 단가 배분)  | **[숫자 입력] 인원당 단가(원)**                              | 그룹 내 각 호실의 거주 인원 1명당 부과될 단가를 설정합니다. |

#### **부과 대상: 이용자 그룹 (User Group)**

*(선택 대상: `서비스 이용 호실`, `계량기 사용 호실` 등)*

| 사용자가 선택한 계산 방식                                   | 다음에 표시되는 UI 요소(들)            | 설명                                                         |
| ----------------------------------------------------------- | -------------------------------------- | ------------------------------------------------------------ |
| **`RATE_PER_USAGE`** (사용량당 단가 배분)                   | **[숫자 입력] 사용량당 단가(원)**      | 각 이용자의 실제 사용량(계량기 값 등)에 곱해질 단가를 설정합니다. |
| **`FIXED_AMOUNT`** (고정액 부과)                            | **[숫자 입력] 호실별 고정 부과액(원)** | 서비스를 이용하는 모든 호실에 동일하게 부과될 월 구독료(고정액)를 설정합니다. |
| **`INDIVIDUAL_USAGE_PROPORTIONAL`** (사용량 비례 총액 배분) | **(추가 UI 없음)**                     | 총액과 각 세대 사용량은 월별로 별도 입력받으므로, 이 설정 화면에서는 추가 조건이 필요 없습니다. |

#### **부과 대상: 개별 지정 호실 (Individual Unit)**

*(선택 대상: 일회성 비용 부과 시 관리자가 직접 지정하는 특정 호실)*

| 사용자가 선택한 계산 방식                | 다음에 표시되는 UI 요소(들) | 설명                                                         |
| ---------------------------------------- | --------------------------- | ------------------------------------------------------------ |
| **`DIRECT_ASSIGNMENT`** (직접 지정 부과) | **(추가 UI 없음)**          | 실제 부과 금액은 '일회성 비용 부과' 화면에서 관리자가 직접 입력하므로, 이 설정 화면에서는 추가 조건이 필요 없습니다. |