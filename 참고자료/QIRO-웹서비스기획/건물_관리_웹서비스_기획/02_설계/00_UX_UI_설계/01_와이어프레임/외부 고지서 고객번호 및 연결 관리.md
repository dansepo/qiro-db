## 🖥️ QIRO 외부 고지서 고객번호 및 연결 관리 UI 와이어프레임 제안

### 1. 외부 고지서 고객번호 관리 메인 화면

- **화면 경로 (예시):** `관리자 포털 > 관리비 설정 > 외부 고지서 관리` (탭 인터페이스의 일부)
- **상위 탭 구성:** `[ 관리비 항목 ]` | `[ 외부 고지서 관리 (선택됨) ]` | `[ 납부 정보 설정 ]`
- **화면 제목:** (탭 이름이 화면 제목 역할)
- **도움말 아이콘:** 화면 우측 상단 `(i) 도움말` 아이콘 (클릭 시 기능 사용 안내 툴팁 또는 팝업 표시)

#### 1.1. 섹션: 외부 고지서 고객번호 관리

- **섹션 제목:** `외부 고지서 고객번호 관리`

- **섹션 부제목:** `외부 고지서 고객번호 및 연결 규칙을 관리합니다.`

- 액션 버튼:

  - ```
    [+ 고객번호 추가]
    ```

     버튼 (섹션 제목 우측 정렬)

    - **클릭 시:** "2. 고객번호 추가/수정 모달"이 '추가' 모드로 열림.

- 고객번호 목록 테이블:

  - **테이블 상단 (선택적):** 정렬 옵션, 필터 요약 정보.

  - 컬럼 구성:

    1. `고객번호` (텍스트, 예: `1234567890`)

    2. `종류` (텍스트, 예: `전기`, `수도`, `가스`)

    3. `공급자` (텍스트, 예: `한국전력공사`, `서울시상수도사업본부`)

    4. `빌딩 (또는 별명)` (텍스트, 예: `행복아파트 A동`, `행복아파트 전체`)

    5. `계량기 번호` (텍스트, 예: `1234567890`, 비어있을 수 있음)

    6. ```
       관리
       ```

        (아이콘 버튼 그룹)

       - `[편집]` 아이콘 (연필 모양): 클릭 시 "2. 고객번호 추가/수정 모달"이 해당 고객번호 데이터로 채워진 '편집' 모드로 열림.

       - ```
         [삭제]
         ```

          아이콘 (휴지통 모양): 클릭 시 삭제 확인 컨펌 모달 표시.

         - 컨펌 모달 내용: "'[고객번호] ([종류], [빌딩/별명])' 정보를 삭제하시겠습니까? 연결된 설정이 있을 경우 주의가 필요합니다."
         - 버튼: `[확인]`, `[취소]`

  - **페이지네이션 영역:** (목록 하단, 항목이 많을 경우)

#### 1.2. 섹션: 고객번호 연결 현황

- **섹션 제목:** `고객번호 연결 현황`

- **섹션 부제목:** `고객번호와 관리비 항목 간의 연결 현황을 확인합니다.`

- 내용 표시 영역:

  - 초기 또는 연결 정보 없을 시:

    - `연결된 고객번호가 없습니다. 고객번호 추가 시 사용 유형을 선택하면 자동으로 연결됩니다.` 텍스트 메시지 표시.

  - 연결 정보 있을 시 (예시):

     (테이블 또는 카드 리스트 형태)

    - **표시 정보:** `고객번호`, `종류`, `빌딩/별명`, `지정된 사용 유형(개별/공용)`, `연결된 관리비 항목(시스템 추론 또는 명시적)`
    - 예시 행: `1234567890 (전기, 행복아파트 A동)` - `[개별 사용료]`, `[공용 사용료]` 지정됨. (연결 항목: 세대 전기료, 공용 전기료)
    - *(이 부분의 구체적인 UI는 고객번호의 '사용 유형'과 '관리비 항목 설정' 간의 실제 연결 로직에 따라 상세화 필요)*

------

### 2. 고객번호 추가/수정 모달

- (트리거):

  - "1. 외부 고지서 고객번호 관리 메인 화면"에서 `[+ 고객번호 추가]` 버튼 클릭 (추가 모드).
  - 고객번호 목록에서 특정 항목의 `[편집]` 아이콘 클릭 (편집 모드).

- 모달 제목:

  - 추가 시: `고객번호 추가`
  - 편집 시: `고객번호 편집`

- 모달 부제목:

  - 추가 시: `외부 고지서 고객번호를 추가합니다. 고객번호는 외부 고지서를 등록할 때 사용됩니다.`
  - 편집 시: `외부 고지서 고객번호를 수정합니다. 고객번호는 외부 고지서를 등록할 때 사용됩니다.`

- 입력 필드 및 요소:

  - ```
    고객번호:
    ```

     [ 텍스트 입력 필드 (Placeholder: "고객번호를 입력하세요") ] (필수)

    - (편집 시에는 보통 읽기 전용이거나, 변경 시 중복 체크 및 영향도 경고)

  - `종류:` [ 드롭다운 선택 (옵션: 전기, 수도, 가스, 난방 등 마스터 데이터) ] (필수, 기본값: "전기")

  - `공급자:` [ 텍스트 입력 필드 (Placeholder: "공급자를 입력하세요") ] (필수)

  - ```
    별명:
    ```

     [ 텍스트 입력 필드 (Placeholder: "구분을 위한 별명을 입력하세요") ] (권장)

    - (도움말 텍스트 예시: "예: 본관 공용 전기, A동 전체 수도")

  - `계량기 번호:` [ 텍스트 입력 필드 (Placeholder: "계량기 번호 (선택사항)") ] (선택)

  - `메모:` [ 텍스트 입력 필드 (Placeholder: "메모를 입력하세요") ] (선택)

  - `관리비 청구` (또는 `사용 유형`) 섹션 레이블:

    - `[ ] 개별 사용료` (체크박스)
    - `[ ] 공용 사용료` (체크박스)
    - *(하나 이상 선택 가능 또는 필수 선택 정책에 따름)*

- 버튼 영역 (모달 하단):

  - `[취소]` 버튼
  - `[추가]` 버튼 (추가 모드 시) / `[저장]` 버튼 (편집 모드 시)

------

**주요 UX 고려사항:**

- **빌딩(건물) 정보 연결:** 현재 제공된 모달 UI에는 '빌딩'을 명시적으로 선택하는 필드가 없습니다. `별명` 필드에 건물 정보를 사용자가 직접 입력하거나, 이 "외부 고지서 관리" 기능 자체가 특정 건물 관리 화면 내의 하위 기능으로 존재하여 **현재 작업 중인 건물의 컨텍스트를 자동으로 상속받는 방식**이 될 수 있습니다. 후자의 경우, 화면 상단이나 다른 위치에 현재 작업 대상 건물이 명확히 표시되어야 합니다.

- "자동으로 연결됩니다"의 의미 구체화:

   "고객번호 연결 현황"에 나오는 "고객번호 추가 시 사용 유형을 선택하면 자동으로 연결됩니다."라는 문구는 사용자에게 혼란을 줄 수 있습니다.

  - **개선 방안 1 (단순 표시):** "고객번호 연결 현황"에는 각 고객번호에 대해 "개별 사용료 지정됨", "공용 사용료 지정됨" 플래그 상태만 명확히 보여주고, 실제 이 금액이 어떤 "관리비 항목"으로 흘러가서 어떻게 "배분"될지는 "월별 외부 고지서 금액 입력" 또는 "관리비 산정" 단계에서 처리됨을 안내합니다.
  - **개선 방안 2 (상세 연결 설정 링크):** 만약 하나의 고객번호(예: 전기료)가 "개별 사용료"와 "공용 사용료" 모두에 체크되었을 때, 그 총액을 어떻게 나눌지(예: 공용 10만 원 고정, 나머지는 개별) 상세 설정하는 기능이 필요하다면, 이 "고객번호 연결 현황"에서 해당 상세 설정 화면으로 이동하는 링크를 제공할 수 있습니다. (이는 이전 `BillToFeeItemLink` 논의와 연결됨)

- **용어 일관성:** 목록 화면의 "빌딩" 컬럼과 추가/편집 모달의 "별명" 필드가 어떤 관계인지, 또는 동일한 정보를 다른 레이블로 표시하는 것인지 명확히 해야 합니다. 사용자 입장에서 혼동이 없도록 일관된 용어 사용이 중요합니다. (만약 '별명'이 주목적이라면 목록에도 '별명'으로 표시)

- **필수 필드 표시:** UI상에서 어떤 필드가 필수 입력인지 명확히 표시해주는 것이 좋습니다 (예: 별표(*) 표시).

