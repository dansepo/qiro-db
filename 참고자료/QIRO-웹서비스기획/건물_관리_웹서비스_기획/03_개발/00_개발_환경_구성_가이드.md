# 💻 QIRO 개발 환경 구성 가이드

## 1. 문서 정보
- **문서명:** QIRO 개발 환경 구성 가이드
- **프로젝트명:** QIRO (중소형 건물관리 SaaS) 프로젝트
- **작성일:** 2025년 05월 28일
- **최종 수정일:** 2025년 05월 28일
- **작성자:** (이름 또는 개발팀 리드)
- **문서 버전:** 1.0

## 2. 개요
### 2.1. 문서 목적
본 문서는 QIRO 프로젝트 개발에 참여하는 모든 개발자가 로컬 환경에서 일관되고 효율적으로 개발을 시작할 수 있도록 필요한 소프트웨어 설치, 프로젝트 설정, 실행 방법 등을 안내하는 것을 목적으로 한다.

### 2.2. 대상 독자
QIRO 프로젝트의 프론트엔드 및 백엔드 개발에 참여하는 모든 개발자.

### 2.3. 사전 준비물
- 기본적인 컴퓨터 사용 능력 및 OS(Windows, macOS, Linux)에 대한 이해
- 터미널 또는 명령줄 인터페이스(CLI) 사용 경험
- Git 및 버전 관리 시스템에 대한 기초적인 이해

## 3. 공통 개발 도구 설치
### 3.1. 운영체제 (Operating System)
- **권장 OS:**
    - macOS (최신 버전)
    - Linux (예: Ubuntu 22.04 LTS 이상)
    - Windows 10/11 (WSL2 환경 사용 강력 권장)
- *본 가이드는 macOS 및 Linux (Ubuntu) 환경을 기준으로 작성되었으며, Windows 사용자는 WSL2 환경 구성을 권장합니다.*

### 3.2. 버전 관리 시스템 (Version Control System)
- **Git:**
    - **설치:** 각 OS에 맞는 Git 설치 (공식 사이트: [https://git-scm.com/downloads](https://git-scm.com/downloads))
    - **기본 설정:**
      ```bash
      git config --global user.name "본인 영문 이름"
      git config --global user.email "본인 이메일 주소"
      git config --global core.autocrlf input # (macOS/Linux)
      # git config --global core.autocrlf true # (Windows)
      ```

### 3.3. 통합 개발 환경 (IDE - Integrated Development Environment)
- **백엔드 (Spring Boot/Kotlin):**
    - **권장 IDE:** IntelliJ IDEA Ultimate (유료) 또는 IntelliJ IDEA Community Edition (무료)
    - **필수 플러그인:** Kotlin, Spring Boot Helper 등 (Community Edition의 경우 일부 Spring 기능 지원 제한적일 수 있음)
    - **다운로드:** [https://www.jetbrains.com/idea/download/](https://www.jetbrains.com/idea/download/)
- **프론트엔드 (Next.js/TypeScript):**
    - **권장 IDE:** Visual Studio Code (VS Code)
    - **추천 확장 프로그램 (Extensions):**
        - ESLint
        - Prettier - Code formatter
        - TypeScript Nightly (또는 공식 TypeScript 지원)
        - npm Intellisense
        - (기타 Next.js, React 관련 유용한 확장 프로그램)
    - **다운로드:** [https://code.visualstudio.com/download](https://code.visualstudio.com/download)

### 3.4. API 테스트 도구
- **권장 도구:** Postman 또는 Insomnia
    - **Postman:** [https://www.postman.com/downloads/](https://www.postman.com/downloads/)
    - **Insomnia:** [https://insomnia.rest/download](https://insomnia.rest/download)
- (프로젝트 API 컬렉션 파일이 있다면 공유 위치 명시)

### 3.5. (선택) 데이터베이스 클라이언트
- **권장 도구:**
    - DBeaver (무료, 다양한 DB 지원)
    - pgAdmin (PostgreSQL 공식 관리 도구)
    - IntelliJ IDEA Ultimate의 Database tools 기능
- PostgreSQL 접속 및 데이터 관리에 사용.

### 3.6. (선택) 컨테이너 기술 (로컬 DB 등 활용 시)
- **Docker Desktop:**
    - **설치:** [https://www.docker.com/products/docker-desktop/](https://www.docker.com/products/docker-desktop/)
    - 로컬에서 PostgreSQL 등 외부 서비스를 컨테이너로 실행하여 개발 환경을 격리하고 일관성을 유지하는 데 유용.

## 4. 백엔드 개발 환경 구성 (Spring Boot/Kotlin)
### 4.1. Java Development Kit (JDK)
- **권장 버전:** OpenJDK 17 (또는 프로젝트 지정 LTS 버전)
- **설치:**
    - **macOS (Homebrew):** `brew install openjdk@17`
    - **Linux (Ubuntu):** `sudo apt update && sudo apt install openjdk-17-jdk`
    - **Windows:** Adoptium Temurin 등에서 다운로드 및 설치.
- **환경 변수 설정:** `JAVA_HOME`을 JDK 설치 경로로 설정하고, `PATH`에 `$JAVA_HOME/bin` 추가.
    - 확인: `java -version` 및 `javac -version`

### 4.2. Build Tool (빌드 도구)
- **Gradle:** 프로젝트 내에 포함된 Gradle Wrapper (`./gradlew`)를 사용하므로 별도 설치는 대부분 불필요.
    - Wrapper가 없을 경우 또는 특정 버전 필요시: [https://gradle.org/install/](https://gradle.org/install/)

### 4.3. 데이터베이스 (PostgreSQL - 로컬 개발용)
- **방식 1: 로컬 직접 설치**
    - **macOS (Homebrew):** `brew install postgresql@15` (또는 프로젝트 지정 버전)
    - **Linux (Ubuntu):** `sudo apt install postgresql postgresql-contrib`
    - **Windows:** 공식 사이트에서 다운로드 및 설치.
    - 설치 후 초기 설정 (데이터베이스 생성, 사용자 생성 및 권한 부여):
      ```sql
      -- 예시 (psql 접속 후)
      CREATE DATABASE qiro_dev;
      CREATE USER qiro_user WITH PASSWORD 'your_password';
      GRANT ALL PRIVILEGES ON DATABASE qiro_dev TO qiro_user;
      ```
- **방식 2: Docker 사용**
    - 프로젝트 루트 또는 별도 `docker` 폴더에 `docker-compose.yml` 파일 생성 (예시):
      ```yaml
      version: '3.8'
      services:
        postgres-qiro:
          image: postgres:15-alpine # 또는 프로젝트 지정 버전
          container_name: qiro-postgres-local
          environment:
            POSTGRES_DB: qiro_dev
            POSTGRES_USER: qiro_user
            POSTGRES_PASSWORD: your_password
          ports:
            - "5432:5432" # 로컬 5432 포트를 컨테이너 5432 포트에 연결
          volumes:
            - qiro_postgres_data:/var/lib/postgresql/data # 데이터 영속화
      volumes:
        qiro_postgres_data:
      ```
    - 실행: `docker-compose up -d` (해당 `docker-compose.yml` 파일이 있는 위치에서)

### 4.4. 프로젝트 클론 및 설정
1.  **프로젝트 클론:**
    ```bash
    git clone [QIRO 백엔드 Git 리포지토리 주소] qiro-backend
    cd qiro-backend
    ```
2.  **IDE에서 프로젝트 열기:** IntelliJ IDEA에서 `qiro-backend` 디렉토리를 프로젝트로 Import.
3.  **설정 파일 복사 및 수정:**
    - `src/main/resources/application.yml` (또는 `.properties`) 파일 관련:
    - `application-local.yml` (또는 `application-local.properties`) 파일 생성/수정. (보통 `application.yml`을 복사하여 로컬 환경에 맞게 수정)
    - **주요 수정 항목:**
        - 데이터베이스 접속 정보 (`spring.datasource.url`, `username`, `password`) - 위에서 설정한 로컬 DB 정보로 변경.
        - (기타 로컬 환경에서 필요한 설정값들 - 예: JWT 비밀키, 외부 API 키 등은 팀 내 공유 방식 따름)
    - **실행 시 `local` 프로파일 활성화:** IntelliJ IDEA 실행 설정에서 Spring Boot 프로파일을 `local`로 지정하거나, VM 옵션에 `-Dspring.profiles.active=local` 추가.

### 4.5. 애플리케이션 실행
- **IntelliJ IDEA:** 메인 애플리케이션 클래스(예: `QiroApplication.kt`) 실행. (Run Configuration에서 `local` 프로파일 활성화 확인)
- **Gradle CLI:**
    ```bash
    ./gradlew bootRun --args='--spring.profiles.active=local'
    ```

### 4.6. 테스트 실행
```bash
./gradlew test
```


## 5\. 프론트엔드 개발 환경 구성 (Next.js/TypeScript)

### 5.1. Node.js 및 패키지 매니저

  - **Node.js:**
      - **권장 버전:** LTS 버전 (예: 18.x 또는 20.x - 프로젝트 지정 버전 확인)
      - **NVM (Node Version Manager) 사용 강력 권장:** 다양한 Node.js 버전을 쉽게 관리.
          - NVM 설치 (macOS/Linux): [https://github.com/nvm-sh/nvm\#installing-and-updating](https://www.google.com/search?q=https://github.com/nvm-sh/nvm%23installing-and-updating)
          - NVM으로 Node.js 설치: `nvm install [버전]` (예: `nvm install 20`)
          - NVM으로 사용할 버전 지정: `nvm use [버전]`
  - **패키지 매니저:**
      - **npm:** Node.js 설치 시 자동 설치됨.
      - **(선택) yarn 또는 pnpm:** 프로젝트에서 사용하는 패키지 매니저에 따라 설치.
          - `npm install -g yarn`
          - `npm install -g pnpm`

### 5.2. 프로젝트 클론 및 의존성 설치

1.  **프로젝트 클론:**
    ```bash
    git clone [QIRO 프론트엔드 Git 리포지토리 주소] qiro-frontend
    cd qiro-frontend
    ```
2.  **IDE에서 프로젝트 열기:** VS Code에서 `qiro-frontend` 디렉토리를 프로젝트로 열기.
3.  **의존성 설치:** (프로젝트에서 사용하는 패키지 매니저에 따라)
    ```bash
    npm install
    # 또는
    # yarn install
    # 또는
    # pnpm install
    ```

### 5.3. 환경 설정 파일

  - 프로젝트 루트에 `.env.local` 파일을 생성하고, 필요한 환경 변수를 설정합니다. (보통 `.env.example` 파일을 복사하여 사용)
  - **주요 설정 항목 (예시):**
    ```
    NEXT_PUBLIC_API_BASE_URL=http://localhost:8080 # 로컬 백엔드 API 서버 주소
    # 기타 필요한 환경 변수
    ```

### 5.4. 애플리케이션 실행

  - 개발 서버 실행: (프로젝트 `package.json` 스크립트 확인)
    ```bash
    npm run dev
    # 또는
    # yarn dev
    # 또는
    # pnpm dev
    ```
  - 실행 후 브라우저에서 `http://localhost:3000` (기본 포트) 등으로 접속.

### 5.5. 빌드 및 테스트

  - **프로덕션 빌드:** `npm run build` (또는 `yarn build`, `pnpm build`)
  - **테스트 실행:** `npm run test` (또는 `yarn test`, `pnpm test`)

## 6\. 코드 스타일 및 컨벤션

  - **백엔드 (Kotlin/Spring Boot):** (Kotlin 공식 코딩 컨벤션 및 팀 내 추가 규칙 링크 또는 요약)
  - **프론트엔드 (TypeScript/Next.js):** (ESLint, Prettier 설정 파일 공유. 팀 내 스타일 가이드 링크 또는 요약)
  - **Git 커밋 메시지 컨벤션:** (예: Conventional Commits - [https://www.conventionalcommits.org/](https://www.conventionalcommits.org/))

## 7\. 주요 브랜치 전략

  - (예: Git Flow - `main`, `develop`, `feature/xxx`, `release/xxx`, `hotfix/xxx` 브랜치 운영 규칙)
  - (또는 GitHub Flow, GitLab Flow 등 팀에서 사용하는 전략 설명)

## 8\. 문제 해결 및 FAQ

  - **Q1: `JAVA_HOME` 설정이 안 돼요.**
      - A1: OS별 `JAVA_HOME` 환경 변수 설정 방법을 다시 확인하고, 터미널 재시작 또는 시스템 재부팅 후 확인해보세요.
  - **Q2: `npm install` 시 오류가 발생해요.**
      - A2: Node.js 버전 호환성 문제일 수 있습니다. NVM을 사용하여 프로젝트 지정 Node.js 버전으로 변경 후 다시 시도해보세요. `package-lock.json` 또는 `yarn.lock` 파일 삭제 후 재설치도 도움이 될 수 있습니다.
  - **(기타 자주 발생하는 문제와 해결 방법 추가)**

## 9\. 참고 자료

  - Kotlin 공식 문서: [https://kotlinlang.org/docs/home.html](https://kotlinlang.org/docs/home.html)
  - Spring Boot 공식 문서: [https://spring.io/projects/spring-boot](https://spring.io/projects/spring-boot)
  - Next.js 공식 문서: [https://nextjs.org/docs](https://nextjs.org/docs)
  - PostgreSQL 공식 문서: [https://www.postgresql.org/docs/](https://www.postgresql.org/docs/)
  - (프로젝트 내부 위키 또는 개발 관련 공유 문서 링크)

## 10\. 문서 이력

| 버전 | 날짜          | 작성자 | 주요 변경 내용             |
| :--- | :------------ | :----- | :------------------------- |
| 1.0  | 2025년 05월 28일    | (이름)  | QIRO 개발 환경 구성 가이드 초안 작성 |
|      |               |        |                            |